/*
 FlexSearch v0.2.68
 Copyright 2018 Thomas Wilkerling
 Released under the Apache 2.0 Licence
 https://github.com/nextapps-de/flexsearch
*/
'use strict';(function(u,D,f){var w;(w=f.define)&&w.amd?w([],function(){return D}):(w=f.modules)?w[u.toLowerCase()]=D:"undefined"!==typeof module?module.exports=D:f[u]=D})("FlexSearch",function P(u){function f(a){"string"!==typeof a||x[a]||(a=I[a]);a||(a=y);this.id=a.id||Q++;this.init(a);w(this,"index",function(){return this.a});w(this,"length",function(){return Object.keys(this.a).length})}function w(a,b,e){Object.defineProperty(a,b,{get:e})}function d(a){return new RegExp(a,"g")}function A(a,b,
e){if("undefined"===typeof e){for(e=0;e<b.length;e+=2)a=a.replace(b[e],b[e+1]);return a}return a.replace(b,e)}function z(a,b,e,c,l,B,g){if("undefined"===typeof b[e]){var h=l?(9-(g||6))*B+(g||6)*l:B;b[e]=h;h>=g&&(a=a[h+.5|0],a=a[e]||(a[e]=[]),a[a.length]=c)}return h||b[e]}function m(a,b){if(a)for(var e=Object.keys(a),c=0,l=e.length;c<l;c++){var B=e[c],g=a[B];if(g)for(var h=0,d=g.length;h<d;h++)if(g[h]===b){1===d?delete a[B]:g.splice(h,1);break}else"object"===typeof g[h]&&m(g[h],b)}}function J(a){var b=
[];if(!a)return b;for(var e=0,c=0,l=0,B="",g=a.length,h=0;h<g;h++){var d=a[h];"a"===d||"e"===d||"i"===d||"o"===d||"u"===d||"y"===d?e++:c++;" "!==d&&(B+=d);if(" "===d||e>=(8<g?2:1)&&2<=c||2<=e&&c>=(8<g?2:1)||h===g-1)B&&(b[l]&&2<B.length&&l++,b[l]=b[l]?b[l]+B:B," "===d&&l++,B=""),c=e=0}return b}function G(a){for(var b="",e="",c="",l=0;l<a.length;l++){var d=a[l];if(d!==e)if(l&&"h"===d){if(c="a"===c||"e"===c||"i"===c||"o"===c||"u"===c||"y"===c,("a"===e||"e"===e||"i"===e||"o"===e||"u"===e||"y"===e)&&c||
" "===e)b+=d}else b+=d;c=l===a.length-1?"":a[l+1];e=d}return b}function R(a,b){var e=t();if(a)for(var c=0;c<a.length;c++){var l=b?b.call(C,a[c]):a[c];e[l]=String.fromCharCode(65E3-a.length+c)}return e}function S(a,b){var e=[];if(a)for(var c in a)if(a.hasOwnProperty(c)){var l=b?b.call(C,c):c;e.push(d("(?=.{"+(l.length+3)+",})"+l+"$"),b?b.call(C,a[c]):a[c])}return e}function T(a,b){a=a.length-b.length;return 0>a?1:0<a?-1:0}function U(a,b){a=a.length-b.length;return 0>a?-1:0<a?1:0}function V(a,b,e){var c=
[],l=[],d=a.length;if(1<d){a.sort(U);for(var g=t(),h=a[0],f=h.length,n=0;n<f;)g[h[n++]]=1;for(var q,v=0,p=1;p<d;){var k=!1,m=p===d-1;l=[];h=a[p];f=h.length;for(n=-1;n<f;){var r=g[q=h[++n]];if(r===p){if(m&&(c[v++]=q,b&&v===b))return c;k=!0;g[q]=p+1}else e&&(r=l[r]||(l[r]=[]),r[r.length]=q)}if(!k&&!e)break;p++}if(e&&(b||(b=1E3),v=c.length,f=l.length,v<b&&f))for(p=f-1;0<=p;p--)if(q=l[p])for(n=0;n<q.length;n++)if(c[v++]=q[n],b&&v===b)return c}else d&&(c=a[0],b&&c.length>b&&(c=c.slice(0,b)));return c}
function H(a){a.B||(a.B=K(function(){a.B=null;var b=a.async;b&&(a.async=!1);if(a.b.length){for(var e=L(),c;(c=a.b.shift())||0===c;){var d=a.f[c];switch(d[0]){case E.add:a.add(d[1],d[2]);break;case E.remove:a.remove(d[1])}delete a.f[c];if(100<L()-e)break}a.b.length&&H(a)}b&&(a.async=b)},1,"search-async-"+a.id))}function L(){return"undefined"!==typeof performance?performance.now():(new Date).getTime()}function t(a,b,e){if(e){for(var c=Array(e),d=0;d<e;d++)c[d]=t(a,b);return c}return Object.create(a||
null,b)}function W(a,b,e,c){a=u("flexsearch","id"+a,function(){var a,b;self.onmessage=function(c){if(c=c.data)if(c.search){var e=b.search(c.content,c.threshold?{limit:c.limit,threshold:c.threshold}:c.limit);self.postMessage({id:a,content:c.content,limit:c.limit,result:e})}else c.add?b.add(c.id,c.content):c.update?b.update(c.id,c.content):c.remove?b.remove(c.id):c.reset?b.reset():c.info?(c=b.info(),c.worker=a,b.debug&&console.log(c)):c.register&&(a=c.id,c.options.cache=!1,c.options.async=!0,c.options.worker=
!1,b=(new Function(c.register.substring(c.register.indexOf("{")+1,c.register.lastIndexOf("}"))))(),b=new b(c.options))}},function(a){(a=a.data)&&a.result?c(a.id,a.content,a.result,a.limit):e.debug&&console.log(a)},b);var d=P.toString();e.id=b;a.postMessage(b,{register:d,options:e,id:b});return a}var y={encode:"icase",mode:"forward",u:!1,cache:!1,async:!1,c:!1,threshold:0,depth:0},I={memory:{encode:"extra",mode:"strict",threshold:7},speed:{encode:"icase",mode:"strict",threshold:7,depth:2},match:{encode:"extra",
mode:"full"},score:{encode:"extra",mode:"strict",threshold:5,depth:4},balance:{encode:"balance",mode:"ngram",threshold:6,depth:3},fastest:{encode:"icase",mode:"strict",threshold:9,depth:1}},F=[],Q=0,E={add:0,update:1,remove:2},M=d("[ -/]"),N=t(),O=t(),x=function(){for(var a=Object.getOwnPropertyNames({}.__proto__),b=t(),e=0;e<a.length;e++)b[a[e]]=1;return b}();f.new=function(a){return new this(a)};f.create=function(a){return f.new(a)};f.registerMatcher=function(a){for(var b in a)a.hasOwnProperty(b)&&
F.push(d(b),a[b]);return this};f.registerEncoder=function(a,b){x[a]||(C[a]=b);return this};f.registerLanguage=function(a,b){x[a]||(N[a]=b.filter,O[a]=b.stemmer);return this};f.encode=function(a,b){return x[a]?b:C[a].call(C,b)};f.prototype.init=function(a){this.A=[];a||(a=y);var b=a.profile,e=b&&!x[b]?I[b]:t();if(b=a.worker)if("undefined"===typeof Worker)a.worker=!1,this.h=null;else{var c=this;b=parseInt(b,10)||4;c.m=-1;c.o=0;c.g=[];c.w=null;c.h=Array(b);for(var d=0;d<b;d++)c.h[d]=W(c.id,d,a,function(a,
b,e,d){if(c.o!==c.c)return c.g=c.g.concat(e),c.o++,d&&c.g.length>=d&&(c.o=c.c),c.w&&c.o===c.c&&(c.cache&&c.i.set(b,c.g),c.w(c.g),c.g=[]),c})}this.mode=a.mode||e.mode||this.mode||y.mode;this.async=a.async||this.async||y.async;this.c=a.worker||this.c||y.c;this.threshold=a.threshold||e.threshold||this.threshold||y.threshold;this.depth=a.depth||e.depth||this.depth||y.depth;this.u=a.suggest||this.u||y.u;this.s=(b=a.encode||e.encode)&&!x[b]&&C[b]||("function"===typeof b?b:this.s||!1);this.debug=a.debug||
this.debug;(b=a.matcher)&&this.addMatcher(b);(b=a.filter)&&!x[b]&&(this.filter=R(N[b]||b,this.s));(b=a.stemmer)&&!x[b]&&(this.stemmer=S(O[b]||b,this.s));this.j=t(null,void 0,10);this.l=t();this.a=t();this.f=t();this.b=[];this.B=null;this.v=!0;this.i=(this.cache=b=a.cache||this.cache||y.cache)?new X(b):!1;return this};f.prototype.encode=function(a){a&&F.length&&(a=A(a,F));a&&this.A.length&&(a=A(a,this.A));a&&this.s&&(a=this.s.call(C,a));a&&this.stemmer&&(a=A(a,this.stemmer));return a};f.prototype.addMatcher=
function(a){var b=this.A,e;for(e in a)a.hasOwnProperty(e)&&b.push(d(e),a[e]);return this};f.prototype.add=function(a,b,e){if("string"===typeof b&&b&&(a&&!x[a]||0===a))if(this.a[a]&&!e)this.update(a,b);else{if(this.c)return++this.m>=this.h.length&&(this.m=0),this.h[this.m].postMessage(this.m,{add:!0,id:a,content:b}),this.a[a]=""+this.m,this;if(this.async)return this.f[a]||(this.b[this.b.length]=a),this.f[a]=[E.add,a,b],H(this),this;b=this.encode(b);if(!b.length)return this;e=this.mode;b="function"===
typeof e?e(b):"ngram"===e?J(b):b.split(M);for(var c={_ctx:t()},d=this.threshold,f=this.depth,g=this.j,h=b.length,m=0;m<h;m++){var n=""+b[m];if(n){var q=n.length,v=(h-m)/h;switch(e){case "reverse":case "both":for(var p="",k=q-1;1<=k;k--)p=n[k]+p,z(g,c,p,a,(q-k)/q,v,d);case "forward":p="";for(k=0;k<q;k++)p+=n[k],z(g,c,p,a,1,v,d);break;case "full":for(k=0;k<q;k++)for(var u=(q-k)/q,r=q;r>k;r--)p=n.substring(k,r),z(g,c,p,a,u,v,d);break;default:if(k=z(g,c,n,a,1,v,d),f&&1<h&&k>=d)for(q=c._ctx[n]||(c._ctx[n]=
t()),n=this.l[n]||(this.l[n]=t(null,void 0,10)),k=m-f,r=m+f+1,0>k&&(k=0),r>h&&(r=h);k<r;k++)k!==m&&z(n,q,b[k],a,0,10-(k<m?m-k:k-m),d)}}}this.a[a]="1";this.v=!1}return this};f.prototype.update=function(a,b){this.a[a]&&b&&"string"===typeof b&&(this.remove(a),this.add(a,b,!0));return this};f.prototype.remove=function(a){if(this.a[a]&&!x[a]){if(this.c){var b=parseInt(this.a[a],10);this.h[b].postMessage(b,{remove:!0,id:a});delete this.a[a];return this}if(this.async)return this.f[a]||(this.b[this.b.length]=
a),this.f[a]=[E.remove,a],H(this),this;for(b=0;10>b;b++)m(this.j[b],a);this.depth&&m(this.l,a);delete this.a[a];this.v=!1}return this};f.prototype.search=function(a,b,e){var c=[];if(a&&"object"===typeof a){e=a.callback||b;b=a.limit;var d=a.threshold;a=a.query}d=(d||this.threshold||0)|0;"function"===typeof b?(e=b,b=1E3):b||(b=1E3);if(this.c){this.w=e;this.o=0;this.g=[];for(c=0;c<this.c;c++)this.h[c].postMessage(c,{search:!0,limit:b,threshold:d,content:a});return null}if(e){var f=this;K(function(){e(f.search(a,
b));f=null},1,"search-"+this.id);return null}if(!a||"string"!==typeof a)return c;var g=a;if(this.cache)if(this.v){var h=this.i.get(a);if(h)return h}else this.i.reset(),this.v=!0;g=this.encode(g);if(!g.length)return c;h=this.mode;g="function"===typeof h?h(g):"ngram"===h?J(g):g.split(M);h=g.length;var m=!0,n=[],q=t();if(1<h)if(this.depth){var v=!0,p=g[0];q[p]="1"}else g.sort(T);var k;if(!v||(k=this.l)[p])for(var u=v?1:0;u<h;u++){var r=g[u];if(r&&!q[r]){for(var w,x=!1,y=[],A=0,z=9;z>=d;z--)if(w=(v?k[p]:
this.j)[z][r])y[A++]=w,x=!0;if(x)n[n.length]=1<A?n.concat.apply([],y):y[0];else if(!this.u){m=!1;break}q[r]="1"}p=r}else m=!1;m&&(c=V(n,b,this.u));this.cache&&this.i.set(a,c);return c};f.prototype.info=function(){if(this.c)for(var a=0;a<this.c;a++)this.h[a].postMessage(a,{info:!0,id:this.id});else{for(var b,e,c=0,d=0,f=0,g=0;10>g;g++)for(b=Object.keys(this.j[g]),a=0;a<b.length;a++)e=this.j[g][b[a]].length,c+=1*e+2*b[a].length+4,d+=e,f+=2*b[a].length;b=Object.keys(this.a);e=b.length;for(a=0;a<e;a++)c+=
2*b[a].length+2;return{id:this.id,memory:c,items:e,sequences:d,chars:f,cache:this.b.length,matcher:F.length,worker:this.c}}};f.prototype.reset=function(){this.destroy();return this.init()};f.prototype.destroy=function(){this.cache&&(this.i.reset(),this.i=null);this.filter=this.stemmer=this.j=this.l=this.a=this.f=this.b=null;return this};var C=Object.create({icase:function(a){return a.toLowerCase()},simple:function(){var a=[d("[\u00e0\u00e1\u00e2\u00e3\u00e4\u00e5]"),"a",d("[\u00e8\u00e9\u00ea\u00eb]"),
"e",d("[\u00ec\u00ed\u00ee\u00ef]"),"i",d("[\u00f2\u00f3\u00f4\u00f5\u00f6\u0151]"),"o",d("[\u00f9\u00fa\u00fb\u00fc\u0171]"),"u",d("[\u00fd\u0177\u00ff]"),"y",d("\u00f1"),"n",d("\u00e7"),"c",d("\u00df"),"s",d(" & ")," and ",d("[-/]")," ",d("[^a-z0-9 ]"),"",d("\\s\\s+")," "];return function(b){b=A(b.toLowerCase(),a);return" "!==b?b:""}}(),advanced:function(){var a=[d("ae"),"a",d("ai"),"ei",d("ay"),"ei",d("ey"),"ei",d("oe"),"o",d("ue"),"u",d("ie"),"i",d("sz"),"s",d("zs"),"s",d("sh"),"s",d("ck"),"k",
d("cc"),"k",d("dt"),"t",d("ph"),"f",d("pf"),"f",d("ou"),"o",d("uo"),"u"];return function(b,e){if(!b)return b;b=this.simple(b);2<b.length&&(b=A(b,a));e||1<b.length&&(b=G(b));return b}}(),extra:function(){var a=[d("p"),"b",d("z"),"s",d("[cgq]"),"k",d("n"),"m",d("d"),"t",d("[vw]"),"f",d("[aeiouy]"),""];return function(b){if(!b)return b;b=this.advanced(b,!0);if(1<b.length){b=b.split(" ");for(var e=0;e<b.length;e++){var c=b[e];1<c.length&&(b[e]=c[0]+A(c.substring(1),a))}b=b.join(" ");b=G(b)}return b}}(),
balance:function(){var a=[d("[-/]")," ",d("[^a-z0-9 ]"),"",d("\\s\\s+")," "];return function(b){return G(A(b.toLowerCase(),a))}}()}),K=function(){var a=t();return function(b,e,c){var d=a[c];d&&clearTimeout(d);return a[c]=setTimeout(b,e)}}(),X=function(){function a(a){this.reset();this.b=!0!==a&&a}a.prototype.reset=function(){this.cache=t();this.count=t();this.index=t();this.a=[]};a.prototype.set=function(a,d){if(this.b&&"undefined"===typeof this.cache[a]){var b=this.a.length;if(b===this.b){b--;var e=
this.a[b];delete this.cache[e];delete this.count[e];delete this.index[e]}this.index[a]=b;this.a[b]=a;this.count[a]=-1;this.cache[a]=d;this.get(a)}else this.cache[a]=d};a.prototype.get=function(a){var b=this.cache[a];if(this.b&&b){var c=++this.count[a],d=this.index,f=d[a];if(0<f){for(var g=this.a,h=f;this.count[g[--f]]<=c&&-1!==f;);f++;if(f!==h){for(c=h;c>f;c--)h=g[c-1],g[c]=h,d[h]=c;g[f]=a;d[a]=f}}}return b};return a}();return f}(function(){var u=Object.create(null),D=!("undefined"===typeof Blob||
"undefined"===typeof URL||!URL.createObjectURL);return function(f,w,d,A,z){var m=f;f=D?URL.createObjectURL(new Blob(["var SUPPORT_WORKER = true;var SUPPORT_BUILTINS = true;var SUPPORT_DEBUG = true;var SUPPORT_CACHE = true;var SUPPORT_ASYNC = true;("+d.toString()+")()"],{type:"text/javascript"})):"../"+m+".js";m+="-"+w;u[m]||(u[m]=[]);u[m][z]=new Worker(f);u[m][z].onmessage=A;console.log("Register Worker: "+m+"@"+z);return{postMessage:function(d,f){u[m][d].postMessage(f)}}}}()),this);
